<th:block
    th:fragment="accordion"
    th:with="controlId=${controlId == null ? 'a1' : controlId}"
    th:assert="
      ${!#strings.isEmpty(buttonLabel)},
      ${!#strings.isEmpty(content)}">
  <div class="accordion">
    <button class="accordion__button" aria-expanded="true" aria-controls="controlId">
      <th:block th:replace="${buttonLabel}"/>
    </button>
    <div class="accordion__content" aria-expanded="false" id="controlId">
      <th:block th:replace="${content}"/>
    </div>
  </div>
</th:block>